<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Doxygen 1.8.7">
    <meta name="author" content="meyer@c3e.cs.tu-bs.de">
    <title>SoCRocket: APBUART - APB UART</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="bootstrap.min.js"></script>
    <script type="text/javascript" src="highlight.pack.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen2bootstrap.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body class="mainpage">
    <div class="container">
      <header class="jumbotron masthead">
        <div class="inner">
          <h1>
            <img alt="Logo" src="socrocket-logo.png"/>
            SoCRocket
          </h1>
          <p>Transaction-Level Modeling Framework for Space Applications</p>
        </div>
      </header>
    </div>
  <div class="container" id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="usermanual.html">User Manual</a></li><li class="navelem"><a class="el" href="models_p.html">IP Models</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classAPBUART.html" title="This class is a TLM 2.0 Model of the Aeroflex Gaisler GRLIB APBUART. Further informations to the orig...">APBUART</a> - APB UART </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#apbuart_p1">Overview</a></li>
<li class="level1"><a href="#apbuart_p2">Interface</a></li>
<li class="level1"><a href="#apbuart_p3">Example Instantiation</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="apbuart_p1"></a>
Overview</h1>
<p>The <a class="el" href="classAPBUART.html" title="This class is a TLM 2.0 Model of the Aeroflex Gaisler GRLIB APBUART. Further informations to the orig...">APBUART</a> model creates an UART device, which is mapped to a TCP port on the host system. The class inherits from the classes <code>gs::reg::gr_device</code>, <code><a class="el" href="classAPBDevice.html">APBDevice</a></code> and <code><a class="el" href="classCLKDevice.html">CLKDevice</a></code>. This model can be used as a serial console for exchanging data or printing debug information. The model has several registers which are listed in table 45. Further information can be found in RD04 (chapter 16.)</p>
<table class="doxtable">
<tr>
<th>APB address offset </th><th>Register  </th></tr>
<tr>
<td>0x0 </td><td>UART Data register </td></tr>
<tr>
<td>0x4 </td><td>UART Status register </td></tr>
<tr>
<td>0x8 </td><td>UART Control register </td></tr>
<tr>
<td>0xC </td><td>UART Scaler register </td></tr>
</table>
<p><em>Table 45 - <a class="el" href="classAPBUART.html" title="This class is a TLM 2.0 Model of the Aeroflex Gaisler GRLIB APBUART. Further informations to the orig...">APBUART</a> Registers</em></p>
<h1><a class="anchor" id="apbuart_p2"></a>
Interface</h1>
<p>The GRLIB VHDL model of the <a class="el" href="classAPBUART.html" title="This class is a TLM 2.0 Model of the Aeroflex Gaisler GRLIB APBUART. Further informations to the orig...">APBUART</a> is configured using Generics. For the implementation of the TLM model most of these Generics were refactored to constructor parameters of class <code>AHBUART</code>. An overview about the available parameters is given in table 46.</p>
<table class="doxtable">
<tr>
<th>Parameter </th><th>Description  </th></tr>
<tr>
<td>name </td><td>SystemC name of the module </td></tr>
<tr>
<td>backend </td><td>Selects the IO backend to be used, currently only TCP available </td></tr>
<tr>
<td>pindex </td><td>APB slave index </td></tr>
<tr>
<td>paddr </td><td>ADDR field of the APB <a class="el" href="classBAR.html">BAR</a> </td></tr>
<tr>
<td>pmask </td><td>MASK field of the APB <a class="el" href="classBAR.html">BAR</a> </td></tr>
<tr>
<td>pirq </td><td>Index of the interrupt line </td></tr>
<tr>
<td>console </td><td>Prints output from the UART on console during VHDL simulation and speeds up simulation by always returning ‘1’ for Data Ready bit of UART Status register. Does not effect synthesis. </td></tr>
<tr>
<td>powmon </td><td>Enable power monitoring </td></tr>
</table>
<p><em>Table 46 - <a class="el" href="classAPBUART.html" title="This class is a TLM 2.0 Model of the Aeroflex Gaisler GRLIB APBUART. Further informations to the orig...">APBUART</a> Constructor Parameters</em></p>
<h1><a class="anchor" id="apbuart_p3"></a>
Example Instantiation</h1>
<p>This example shows how to instantiate the module <code><a class="el" href="classAPBUART.html" title="This class is a TLM 2.0 Model of the Aeroflex Gaisler GRLIB APBUART. Further informations to the orig...">APBUART</a></code>. In line 873 the constructor is called to create the new object. In line 882 the module is connected to the bus and in line 886 the clock is set. In line 884 the interrupts are connected via Signalkit.</p>
<div class="fragment"><div class="line"><a class="code" href="classAPBUART.html">APBUART</a> *apbuart = <span class="keyword">new</span> <a class="code" href="classAPBUART.html">APBUART</a>(sc_core::sc_gen_unique_name(<span class="stringliteral">&quot;apbuart&quot;</span>, <span class="keyword">false</span>), io,</div>
<div class="line">  index,           <span class="comment">// index</span></div>
<div class="line">  addr,            <span class="comment">// paddr</span></div>
<div class="line">  mask,            <span class="comment">// pmask</span></div>
<div class="line">  <a class="code" href="satcan_8c.html#a29a6d89a0ede798e76d4b5052915a089">irq</a>,             <span class="comment">// pirq</span></div>
<div class="line">  p_report_power   <span class="comment">// powmon</span></div>
<div class="line">);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Connecting APB Slave</span></div>
<div class="line">apbctrl.<a class="code" href="classAPBCtrl.html#a008feba42113f1de7d107063b1a0fe67">apb</a>(apbuart-&gt;<a class="code" href="classAPBUART.html#a987b56902a71108413f2dffdea3cd36a">bus</a>);</div>
<div class="line"><span class="comment">// Connecting Interrupts</span></div>
<div class="line"><a class="code" href="namespacesignalkit.html#a490da5f4853929ced113fca1504716e7">signalkit::connect</a>(irqmp.<a class="code" href="classIrqmp.html#a9bfe1b1e93a84b174411ea6f11a53fe0">irq_in</a>, apbuart-&gt;<a class="code" href="classAPBUART.html#af48dbdfeb83a3420a247ff444377f7c2">irq</a>, <a class="code" href="satcan_8c.html#a29a6d89a0ede798e76d4b5052915a089">irq</a>);</div>
<div class="line"><span class="comment">// Set clock</span></div>
<div class="line">apbuart-&gt;<a class="code" href="group__utils.html#ga1e502b9a84a32054d08a28935f19283b">set_clk</a>(p_system_clock,SC_NS);</div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<footer>
  <div class="container">
    <div class="inner">
      <p>
        &nbsp; &copy; 
         <a href="http://www.tu-braunschweig.de/c3e">c3e - TU-Braunschweig</a>. 2012.
        All rights reserved. | <a href="impress.html">Impress</a> |
        Generated on Wed Oct 22 2014 14:14:42 for SoCRocket by &#160;<a href="http://www.doxygen.org/index.html">Doxygen 1.8.7</a>
      </p>
    </div>
  </div>
</footer>
</body>
</html>
