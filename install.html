<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Doxygen 1.8.8">
    <meta name="author" content="meyer@c3e.cs.tu-bs.de">
    <title>SoCRocket: Installation</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="bootstrap.min.js"></script>
    <script type="text/javascript" src="highlight.pack.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen2bootstrap.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body class="mainpage">
    <div class="container">
      <header class="jumbotron masthead">
        <div class="inner">
          <h1>
            <img alt="Logo" src="socrocket-logo.png"/>
            SoCRocket
          </h1>
          <p>Transaction-Level Modeling Framework for Space Applications</p>
        </div>
      </header>
    </div>
  <div class="container" id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="usermanual.html">User Manual</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The build system shipped with the SoCRocket library is written in <code>waf</code>. It requires at least Python 2.3 to run. The <code>waf</code> executable is located in the root directory of the library.</p>
<h1><a class="anchor" id="install1"></a>
WAF Command Overview</h1>
<p>Execute <code>./waf –h</code> to get an overview of and help on all available commands and options:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;waf [command] [options]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;The following main commands are supported:</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;build    : executes the build</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;clean    : cleans the project</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;configure: configures the project</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;coverage : If configured with -G, and lcov/gcof installed, generates</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;           a code coverage report</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;dist     : makes a tarball for redistributing the sources</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;distcheck: checks if the project compiles (tarball from &#39;dist&#39;)</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;distclean: removes the build directory</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;docs      : build source code documentation* (if doxygen installed)</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;install  : installs the targets on the system</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;list     : lists the targets to execute</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;macclean : Clean garbage files from source tree</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;setprops : Set SVN properties on all source files</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;step     : executes tasks in a step-by-step fashion, for debugging</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;uninstall: removes the targets installed</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;update   : updates the plugins from the *waflib/extras* directory</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;generate : opens the configuration</div>
</div><!-- fragment --><p><em>Doxygen support is currently under development. The generated documents may be incomplete.</em></p>
<h1><a class="anchor" id="install2"></a>
Building the library</h1>
<p>Building the project requires following steps:</p>
<ol type="1">
<li><em>Execute <code>./waf configure</code> to configure the build environment</em> The configuration step succeeds in case all the required software packages are available. Otherwise, it fails and shows the broken dependency. If so, the install path variable must be corrected. It is also possible to specify the location of a missing package. Use <code>./waf –h</code> to see all the different options (e.g. <code>--systemc</code>, <code>--tlm</code>). As mentioned in requirements4}, SystemC/VHDL co-simulation can be optionally disabled, in order to be independent of commercial tools or, eventually, save compilation time (<code>./waf configure –nomodelsim</code>). Another important switch controls the verbosity of the output that is directed to stdout during simulation (<code>--verbosity=1..5</code>). Verbosity level one only display error messages. Level two includes warnings that are issued during simulation. Level three prints execution statistics and analysis reports. The recommended setting (default) is Level four. It additionally shows configuration reports and information about the progress of tests. The highest verbosity is bound to level 5. It displays a message for each state-change of a transaction, which tremendously slows down simulation and is therefore only recommended for debugging. (Add the <code>–G</code> switch to the configure command in case you plan on running coverage calculation. This will have a penalty on the system performance.)</li>
<li><em>Compile library and run unit tests</em> Execute <code>./waf</code> to compile all targets. Optionally, the <code>–jN</code> flag can be used to define to maximum number of parallel threads. If co-simulation is configured make sure you have enough licenses to execute N instances of Modelsim. As an alternative, you may select a specific target (test or library) for compilation. A list of targets can be generated with <code>./waf list</code>. Selective compile is done using <code>./waf –targets=”comma,separated,list,of,targets”</code>. After successful compilation the system automatically starts the respective unit test(s) and displays the result on the screen.</li>
<li><em>Optional Doxygen and Gcov</em> In the final step you may generate additional documentation using Doxygen (<code>./waf docs</code>) or perform a test coverage calculation using Gcov/Lcov (<code>./waf coverage</code>). The configuration step does not check the presence of these tools. In case they are not present, the commands have no effect.</li>
</ol>
<p>Moreover, to enable coverage calculation the system must be configure with the <code>–G</code> option. Compile the library and execute all unit tests in order to achieve meaningful results.</p>
<h1><a class="anchor" id="install3"></a>
Models separate compilation</h1>
<p>The models of the library can be compiled separately and independently of each other. The following minimum set of source files is required for successful compilation:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./common</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;./contrib</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;./Doxyfile</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;./models/&lt;selected_model&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;./models/utils</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;./models/wscript</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;./signalkit</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;./tools</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;wscript</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;waf</div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<footer>
  <div class="container">
    <div class="inner">
      <p>
        &nbsp; &copy; 
         <a href="http://www.tu-braunschweig.de/c3e">c3e - TU-Braunschweig</a>. 2012.
        All rights reserved. | <a href="impress.html">Impress</a> |
        Generated on Wed Oct 22 2014 10:58:40 for SoCRocket by &#160;<a href="http://www.doxygen.org/index.html">Doxygen 1.8.8</a>
      </p>
    </div>
  </div>
</footer>
</body>
</html>
