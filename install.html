<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Doxygen 1.8.6">
    <meta name="author" content="meyer@c3e.cs.tu-bs.de">
    <title>SoCRocket: Installation</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
    <link href="style-doxygen.css" rel="stylesheet" type="text/css" />
    <link href="bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="bootstrap.min.js"></script>
    <script type="text/javascript" src="highlight.pack.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen2bootstrap.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body class="mainpage">
    <div class="container">
      <header class="jumbotron masthead">
        <div class="inner">
          <h1>
            <img alt="Logo" src="socrocket-logo.png"/>
            SoCRocket
          </h1>
          <p>Transaction-Level Modeling Framework for Space Applications</p>
        </div>
      </header>
    </div>
  <div class="container" id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="usermanual.html">User Manual</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The build system shipped with the SoCRocket library is written in <code>waf</code>. It requires at least Python 2.3 to run. The <code>waf</code> executable is located in the root directory of the library.</p>
<h1><a class="anchor" id="install1"></a>
WAF Command Overview</h1>
<p>Execute <code>./waf –h</code> to get an overview of and help on all available commands and options: </p>
<pre class="fragment">waf [commands] [options]

Main commands (example: ./waf build -j4)
  bash     :
  build    : executes the build
  clean    : cleans the project
  configure: configures the project
  coverage :
  cpplint  : Use cpplint to check all files
  dist     : makes a tarball for redistributing the sources
  distcheck: checks if the project compiles (tarball from 'dist')
  distclean: removes the build directory
  docs     : build source code documentation in 'build/docs' if doxygen is installed
  generate : If PyQt4 is installed opens a Wizard to configure a platform
  install  : installs the targets on the system
  list     : lists the targets to execute
  macclean : Clean garbage files from the source tree
  oclint   : Use oclint to check all files
  repo     :
       The repo Context
       In here all work with the repositories is done.
       The database handlers are extern so the repository database is read in other contextes too.

  step     : executes tasks in a step-by-step fashion, for debugging
  uninstall: removes the targets installed
</pre><h1><a class="anchor" id="install2"></a>
Building the library</h1>
<p>Building the project requires following steps:</p>
<ol type="1">
<li><em>Execute <code>./waf repo init</code> to checkout the rest of the core repositories.</em></li>
<li><p class="startli"><em>Execute <code>./waf configure</code> to configure the build environment</em></p>
<p class="startli">The configuration step succeeds in case all the required software packages are available. Otherwise, it fails and shows the broken dependency. If so, the install path variable must be corrected. It is also possible to specify the location of a missing package. Use <code>./waf –h</code> to see all the different options (e.g. <code>--systemc</code>, <code>--tlm</code>). As mentioned in requirements4}, SystemC/VHDL co-simulation can be optionally disabled, in order to be independent of commercial tools or, eventually, save compilation time (<code>./waf configure –nomodelsim</code>). Another important switch controls the verbosity of the output that is directed to stdout during simulation (<code>--verbosity=1..5</code>).</p>
<p class="startli">Verbosity level one only display error messages. Level two includes warnings that are issued during simulation. Level three prints execution statistics and analysis reports. The recommended setting (default) is Level four. It additionally shows configuration reports and information about the progress of tests. The highest verbosity is bound to level 5. It displays a message for each state-change of a transaction, which tremendously slows down simulation and is therefore only recommended for debugging. (Add the <code>–G</code> switch to the configure command in case you plan on running coverage calculation. This will have a penalty on the system performance.)</p>
<p class="startli">When the configure process finished, you have to run <code>./waf configure</code> again, since there is an issue with <code>virtualenv</code>.</p>
</li>
<li><p class="startli"><em>Compile library and run unit tests</em></p>
<p class="startli">Execute <code>./waf</code> to compile all targets. Optionally, the <code>–jN</code> flag can be used to define to maximum number of parallel threads. If co-simulation is configured make sure you have enough licenses to execute N instances of Modelsim. As an alternative, you may select a specific target (test or library) for compilation. A list of targets can be generated with <code>./waf list</code>. Selective compile is done using <code>./waf build --target=”comma,separated,list,of,targets”</code>. A good starting point is <code>./waf build --target=leon3mp.platform,sdram.prom,hello.sparc</code>. After successful compilation the system automatically starts the respective unit test(s) and displays the result on the screen.</p>
</li>
<li><p class="startli"><em>Optional Doxygen and Gcov</em></p>
<p class="startli">In the final step you may generate additional documentation using Doxygen (<code>./waf docs</code>) or perform a test coverage calculation using Gcov/Lcov (<code>./waf coverage</code>). The configuration step does not check the presence of these tools. In case they are not present, the commands have no effect.</p>
<p class="startli">Moreover, to enable coverage calculation the system must be configure with the <code>–G</code> option. Compile the library and execute all unit tests in order to achieve meaningful results. </p>
</li>
</ol>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<footer>
  <div class="container">
    <div class="inner">
      <p>
        &nbsp; &copy; 
         <a href="http://www.tu-braunschweig.de/c3e">c3e - TU-Braunschweig</a>. 2015.
        All rights reserved. | <a href="impress.html">Impress</a> |
        Generated on Tue Nov 24 2015 15:17:02 for SoCRocket by &#160;<a href="http://www.doxygen.org/index.html">Doxygen 1.8.6</a>
      </p>
    </div>
  </div>
</footer>
</body>
</html>
