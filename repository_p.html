<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Doxygen 1.8.6">
    <meta name="author" content="meyer@c3e.cs.tu-bs.de">
    <title>SoCRocket: SoCRocket Repository Manager</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
    <link href="style-doxygen.css" rel="stylesheet" type="text/css" />
    <link href="bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="bootstrap.min.js"></script>
    <script type="text/javascript" src="highlight.pack.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen2bootstrap.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body class="mainpage">
    <div class="container">
      <header class="jumbotron masthead">
        <div class="inner">
          <h1>
            <img alt="Logo" src="socrocket-logo.png"/>
            SoCRocket
          </h1>
          <p>Transaction-Level Modeling Framework for Space Applications</p>
        </div>
      </header>
    </div>
  <div class="container" id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="usermanual.html">User Manual</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SoCRocket Repository Manager </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>SoCRocket is providing a repository manager as small layer on top of git. Hence the dependency structures projects in the scientific domain have the number of requirements in form of legal, copyright or simply API stability is rising. To counter these complexity SoCRocket will provide the ability to split project specific code from public code.</p>
<p>Moreover it provides the ability that different code can optionaly depend on each other.</p>
<p>Let's look at an example: First we fetch the SoCRocket Core Repository which provides us with the basic feature set and functinality: </p>
<pre class="fragment">$ git clone git@brauhaus.c3e.cs.tu-bs.de:socrocket-core.git socrocket
$ cd socrocket
</pre><p>But we want to play with some video IO and build some nice filters for it. So we add the socrocket-media repository to socrocket: </p>
<pre class="fragment">$ ./waf repo add git@brauhaus.c3e.cs.tu-bs.de:socrocket-media.git
</pre><p>A new folder will appear in the main folder: media. It will contain all the sources from the media repository.</p>
<p>Building the Project is still the same. Just execute the following: </p>
<pre class="fragment">$ ./waf configure
$ ./waf build --target=leon3mp.platform
</pre><p>Newly added components can be build as well by using <code>--target</code>. Morover <code>./waf list</code> will list all targets from all repositories.</p>
<p>Repositories are simply git repositories and can be handled as such. See <a href="http://git-scm.com">http://git-scm.com</a> for information. The usual commit, push, pull cycles are allowd as well as all other diry voodoo.</p>
<p>The additions are that it you specify a git folder as a SoCRocket Repository waf will be aware of it. That means that in your code you can check for the availability of repositories:</p>
<p>Either in the <code>wscript</code>: </p>
<div class="fragment"><div class="line">def build(<span class="keyword">self</span>):</div>
<div class="line">    if <span class="stringliteral">&quot;media&quot;</span> in self.<a class="code" href="namespacecore_1_1waf_1_1repository.html#a1122d2bef2f6b03ce18e6968fcd99f8c">repositories</a>:                              # Check if we have the media repository</div>
<div class="line">        self(</div>
<div class="line">            # ...</div>
<div class="line">            export_includes = self.<a class="code" href="namespacecore_1_1waf_1_1repository.html#a74a226d3a2c05741e9d81f1238899660">repository_root</a>.abspath()      # The Absolute repository <a class="code" href="namespacecore_1_1tools_1_1xml__extract__generics.html#aa3a4086eda080098cbce33327da6f6ec">root</a> for the current repository</div>
<div class="line">            # ...</div>
<div class="line">        )</div>
</div><!-- fragment --><p>Or in your SystemC Code: </p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifdef HAVE_REPOSITORY_MEDIA</span></div>
<div class="line"><span class="preprocessor">// ...</span></div>
</div><!-- fragment --><p>To declare a SoCRocket Repository out of a git repository add a toplevel wscript with the following constant definitions at the top: </p>
<div class="fragment"><div class="line"><a class="code" href="namespacecore_1_1tools_1_1generator.html#aa298913a9754051b834991e8ca3ea095">top</a>=<span class="stringliteral">&#39;..&#39;</span></div>
<div class="line">REPOSITORY_PATH=<span class="stringliteral">&#39;media&#39;</span>                       # Default location inside the SoCRocket Working Folder</div>
<div class="line">REPOSITORY_NAME=<span class="stringliteral">&#39;SoCRocket Media Repository&#39;</span>  # A human readable tile to identify the repository</div>
<div class="line">REPOSITORY_DESC=<span class="stringliteral">&#39;Some Video IO&#39;</span>               # A human readable <a class="code" href="namespacesetup.html#ade8aa54df2083113a10326ea2fe7934b">description</a> of the repository</div>
<div class="line">REPOSITORY_TOOLS=[<span class="stringliteral">&#39;av&#39;</span>, <span class="stringliteral">&#39;sdl&#39;</span>]                # Tools used by your repository. Must <a class="code" href="regtest_8S.html#a46822df3fd9f114364c03d5b3d521a2e">be</a> located in the `waf`-folder in your repository</div>
<div class="line"></div>
<div class="line">def <a class="code" href="namespacesetup.html#abb722673b1eab1c7c3323d622670eca4">options</a>(<span class="keyword">self</span>):</div>
<div class="line">    pass  # Repository specific cli options</div>
<div class="line"></div>
<div class="line">def configuration(self):</div>
<div class="line">    pass  # Repository specific configuration</div>
<div class="line"></div>
<div class="line">def build(self):</div>
<div class="line">    pass  # Repository specific target building</div>
</div><!-- fragment --><p>To manage installed repositories we export some more commands to use: </p>
<pre class="fragment">$ ./waf repo &lt;command&gt;
</pre><p>Here command can be:</p>
<ul>
<li>show: List all installed repositories</li>
<li>rm: Remove specific repository </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<footer>
  <div class="container">
    <div class="inner">
      <p>
        &nbsp; &copy; 
         <a href="http://www.tu-braunschweig.de/c3e">c3e - TU-Braunschweig</a>. 2015.
        All rights reserved. | <a href="impress.html">Impress</a> |
        Generated on Tue Nov 24 2015 15:17:02 for SoCRocket by &#160;<a href="http://www.doxygen.org/index.html">Doxygen 1.8.6</a>
      </p>
    </div>
  </div>
</footer>
</body>
</html>
