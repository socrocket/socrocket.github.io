<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Doxygen 1.8.8">
    <meta name="author" content="meyer@c3e.cs.tu-bs.de">
    <title>SoCRocket: SoCRocket Repository Manager</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="bootstrap.min.js"></script>
    <script type="text/javascript" src="highlight.pack.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen2bootstrap.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body class="mainpage">
    <div class="container">
      <header class="jumbotron masthead">
        <div class="inner">
          <h1>
            <img alt="Logo" src="socrocket-logo.png"/>
            SoCRocket
          </h1>
          <p>Transaction-Level Modeling Framework for Space Applications</p>
        </div>
      </header>
    </div>
  <div class="container" id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SoCRocket Repository Manager </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>SoCRocket is providing a repository manager as small layer on top of git. Hence the dependency structures projects in the scientific domain have the number of requirements in form of legal, copyright or simply API stability is rising. To counter these complexity SoCRocket will provide the ability to split project specific code from public code.</p>
<p>Moreover it provides the ability that different code can optionaly depend on each other.</p>
<p>Let's look at an example: First we fetch the SoCRocket Core Repository which provides us with the basic feature set and functinality: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone git@brauhaus.c3e.cs.tu-bs.de:socrocket-core.git socrocket  # Get SoCRocket</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd socrocket                                                         # Change Directory</div>
</div><!-- fragment --><p> But we want to play with some video IO and build some nice filters for it. So we add the socrocket-media repository to socrocket: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./waf repo add git@brauhaus.c3e.cs.tu-bs.de:socrocket-media.git</div>
</div><!-- fragment --><p> A new folder will appear in the main folder: media. It will contain all the sources from the media repository.</p>
<p>Building the Project is still the same. Just execute the following: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./waf configure</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;./waf build --target=leon3mp.platform</div>
</div><!-- fragment --><p> Newly added components can be build as well by using <code>--target</code>. Morover <code>./waf list</code> will list all targets from all repositories.</p>
<p>Repositories are simply git repositories and can be handled as such. See <a href="http://git-scm.com">http://git-scm.com</a> for information. The usual commit, push, pull cycles are allowd as well as all other diry voodoo.</p>
<p>The additions are that it you specify a git folder as a SoCRocket Repository waf will be aware of it. That means that in your code you can check for the availability of repositories:</p>
<p>Either in the <code>wscript</code>: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;def build(self):</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    if &quot;media&quot; in self.repositories:                              # Check if we have the media repository</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        self(</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;            # ...</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            export_includes = self.repository_root.abspath()      # The Absolute repository root for the current repository</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            # ...</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        )</div>
</div><!-- fragment --><p>Or in your SystemC Code: </p><div class="fragment"><div class="line"><span class="preprocessor">#ifdef HAVE_REPOSITORY_MEDIA</span></div>
<div class="line"><span class="preprocessor">// ...</span></div>
</div><!-- fragment --><p>To declare a SoCRocket Repository out of a git repository add a toplevel wscript with the following constant definitions at the top: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;top=&#39;..&#39;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;REPOSITORY_PATH=&#39;media&#39;                       # Default location inside the SoCRocket Working Folder</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;REPOSITORY_NAME=&#39;SoCRocket Media Repository&#39;  # A human readable tile to identify the repository</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;REPOSITORY_DESC=&#39;Some Video IO&#39;               # A human readable description of the repository</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;REPOSITORY_TOOLS=[&#39;av&#39;, &#39;sdl&#39;]                # Tools used by your repository. Must be located in the `waf`-folder in your repository</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;def options(self):</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    pass  # Repository specific cli options</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;def configuration(self):</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    pass  # Repository specific configuration</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;def build(self):</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    pass  # Repository specific target building</div>
</div><!-- fragment --><p>To manage installed repositories we export some more commands to use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./waf repo &lt;command&gt;</div>
</div><!-- fragment --><p>command:</p><ul>
<li>show: List all installed repositories</li>
<li>rm: Remove specific repository </li>
</ul>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<footer>
  <div class="container">
    <div class="inner">
      <p>
        &nbsp; &copy; 
         <a href="http://www.tu-braunschweig.de/c3e">c3e - TU-Braunschweig</a>. 2012.
        All rights reserved. | <a href="impress.html">Impress</a> |
        Generated on Wed Oct 22 2014 10:58:41 for SoCRocket by &#160;<a href="http://www.doxygen.org/index.html">Doxygen 1.8.8</a>
      </p>
    </div>
  </div>
</footer>
</body>
</html>
