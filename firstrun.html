<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Doxygen 1.8.8">
    <meta name="author" content="meyer@c3e.cs.tu-bs.de">
    <title>SoCRocket: Running Software</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="bootstrap.min.js"></script>
    <script type="text/javascript" src="highlight.pack.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen2bootstrap.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body class="mainpage">
    <div class="container">
      <header class="jumbotron masthead">
        <div class="inner">
          <h1>
            <img alt="Logo" src="socrocket-logo.png"/>
            SoCRocket
          </h1>
          <p>Transaction-Level Modeling Framework for Space Applications</p>
        </div>
      </header>
    </div>
  <div class="container" id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="usermanual.html">User Manual</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Running Software </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>After having compiled the library and having generated a configuration the system is ready for simulation. Example software can be found in the <code>./software</code> sub-directory. Most of the code located here has already been pre-compiled for unit testing. For manual compilation follow the flow described in the Gaisler BCC – Bare-C Cross-Compiler User’s Manual [12].</p>
<p>A simple “Hello World” program in C language is given in: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./software/grlib_tests/hello.c</div>
</div><!-- fragment --><p>To compile this program using the BCC compiler enter (at top-level): </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./waf --target=hello.sparc</div>
</div><!-- fragment --><p> <em>Hint: Add the <code>-v</code> switch to this call to see the full compiler command.</em></p>
<p>The generated SPARC binary will be written to: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./build/core/software/grlib_tests/hello.sparc</div>
</div><!-- fragment --><p>This binary is independent of the system configuration. To execute the program the generated image must be loaded into ROM at the beginning of the simulation. Therefore, the name and the location of the application must be entered in the system configuration file. Furthermore some bootcode is needed to start up the system and execute the program in RAM. This can be achieved via setting of commandline options. The simulation can then be started as follows: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./build/core/platforms/leon3mp/leon3mp.platform \</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;--option conf.mctrl.prom.elf=build/core/software/prom/sdram/sdram.prom \</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;--option conf.mctrl.ram.sdram.elf=build/core/software/grlib_tests/hello.sparc \</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;--option conf.apbuart.en=1</div>
</div><!-- fragment --><p>You are eventually asked to connect a terminal a startup. In this case open another terminal and enter (Linux): </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;telnet localhost &lt;PORT NUMBER&gt;.</div>
</div><!-- fragment --><p>If you want to see the output of hello.sparc in the same terminal as the output of the simulation you can use the following command: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./build/core/platforms/leon3mp/leon3mp.platform \</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;--option conf.mctrl.prom.elf=build/core/software/prom/sdram/sdram.prom \</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;--option conf.mctrl.ram.sdram.elf=build/core/software/grlib_tests/hello.sparc \</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;--option conf.system.osemu=build/core/software/grlib_tests/hello.sparc</div>
</div><!-- fragment --><p><em>Hint: Call <code>leon3mp --help</code> to see all available command line options.</em> </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<footer>
  <div class="container">
    <div class="inner">
      <p>
        &nbsp; &copy; 
         <a href="http://www.tu-braunschweig.de/c3e">c3e - TU-Braunschweig</a>. 2012.
        All rights reserved. | <a href="impress.html">Impress</a> |
        Generated on Tue Oct 21 2014 15:33:03 for SoCRocket by &#160;<a href="http://www.doxygen.org/index.html">Doxygen 1.8.8</a>
      </p>
    </div>
  </div>
</footer>
</body>
</html>
